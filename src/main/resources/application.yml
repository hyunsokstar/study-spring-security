spring:
  config:
    import: optional:file:.env[.properties]   # ← .env 파일 읽어오게!

  datasource:
    url: jdbc:postgresql://localhost:5432/security_db
    username: pilot
    password: pilot1234
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    database-platform: org.hibernate.dialect.PostgreSQLDialect

  ai:
    openai:
      api-key: ${OPENAI_API_KEY}           # .env에서 주입
      embedding:
        model: text-embedding-3-small
#        options:
#          dimensions: 1536

    vectorstore:
      pgvector:
        host: localhost
        port: 5432
        database: security_db
        username: pilot
        password: pilot1234
        schema-name: public
        table-name: vector_store
        dimension: 1536
        distance-type: COSINE_DISTANCE
        index-type: HNSW
        initialize-schema: true
        remove-existing-vector-store-table: false

logging:
  level:
    org.springframework.ai: DEBUG
    org.springframework.ai.vectorstore: DEBUG
